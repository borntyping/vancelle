{% from "components/layout.html" import section %}

{% macro section_sources(work_id=None) %}
  {% set sources = Remote.searchable_sources() %}
  {% call section('Search external sources for metadata', n('available source', sources|length)) %}
    <div class="box">
      <div class="columns is-multiline">
        {% for remote_type, source in sources.items() %}
          <div class="column is-3 has-text-centered">
            <a href="{{ url_for('remote.search_source', remote_type=remote_type, work_id=work_id) }}" class="button is-primary is-fullwidth">
              Search {{ source.full_plural }}
            </a>
          </div>
        {% endfor %}
      </div>
    </div>
  {% endcall %}
{% endmacro %}
