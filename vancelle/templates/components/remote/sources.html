{% from "components/layout.html" import section %}

{% macro section_sources(work_id=None) %}
  {% set subclasses = searchable_remotes() %}
  {% call section('Search external sources for metadata', n('available source', subclasses|length)) %}
    <div class="box">
      <div class="columns is-multiline">
        {% for cls in subclasses %}
          <div class="column is-3 has-text-centered">
            <a href="{{ url_for('remote.search_source', remote_type=cls.identity(), work_id=work_id) }}" class="button is-{{ cls.info.color }} is-fullwidth">
              Search {{ cls.info.full_plural }}
            </a>
          </div>
        {% endfor %}
      </div>
    </div>
  {% endcall %}
{% endmacro %}
